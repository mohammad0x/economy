Index: economy-main/economy/resistance/views.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>from django.urls import reverse_lazy\nfrom django.views.generic import ListView, DetailView, CreateView, UpdateView, DeleteView, TemplateView\nfrom django.utils.decorators import method_decorator\nfrom django.contrib.auth.decorators import login_required, user_passes_test\nfrom django.http import HttpResponseRedirect\nfrom django.urls import reverse\n\nfrom .models import MyUser, InformationFund, Fund, Deprivation, Report\nfrom .forms import MyUserForm, InformationFundForm, FundForm, DeprivationForm, ReportForm\n\n\ndef is_admin(user):\n    return user.is_authenticated and user.is_admin\n\n\nadmin_required = method_decorator(user_passes_test(is_admin), name='dispatch')\nlogin_required_m = method_decorator(login_required, name='dispatch')\n\n\n@method_decorator(login_required, name='dispatch')\nclass DashboardView(TemplateView):\n    template_name = 'resistance/dashboard.html'\n\n\n@admin_required\nclass MyUserListView(ListView):\n    model = MyUser\n    template_name = 'resistance/myuser_list.html'\n    context_object_name = 'users'\n\n\n@admin_required\nclass MyUserDetailView(DetailView):\n    model = MyUser\n    template_name = 'resistance/myuser_detail.html'\n    context_object_name = 'user'\n\n\n@admin_required\nclass MyUserCreateView(CreateView):\n    model = MyUser\n    form_class = MyUserForm\n    template_name = 'resistance/myuser_form.html'\n    success_url = reverse_lazy('user-list')\n\n\n@admin_required\nclass MyUserUpdateView(UpdateView):\n    model = MyUser\n    form_class = MyUserForm\n    template_name = 'resistance/myuser_form.html'\n    success_url = reverse_lazy('user-list')\n\n\n@admin_required\nclass MyUserDeleteView(DeleteView):\n    model = MyUser\n    template_name = 'resistance/myuser_confirm_delete.html'\n    success_url = reverse_lazy('user-list')\n\n\n@login_required_m\nclass InformationFundListView(ListView):\n    model = InformationFund\n    template_name = 'resistance/informationfund_list.html'\n    context_object_name = 'funds'\n\n\n@login_required_m\nclass InformationFundDetailView(DetailView):\n    model = InformationFund\n    template_name = 'resistance/informationfund_detail.html'\n    context_object_name = 'fund'\n\n\n@login_required_m\nclass InformationFundCreateView(CreateView):\n    model = InformationFund\n    form_class = InformationFundForm\n    template_name = 'resistance/informationfund_form.html'\n\n    def get_success_url(self):\n        return reverse_lazy('informationfund-detail', kwargs={'pk': self.object.pk})\n\n\n@login_required_m\nclass InformationFundUpdateView(UpdateView):\n    model = InformationFund\n    form_class = InformationFundForm\n    template_name = 'resistance/informationfund_form.html'\n\n    def get_success_url(self):\n        return reverse_lazy('informationfund-detail', kwargs={'pk': self.object.pk})\n\n\n@login_required_m\nclass InformationFundDeleteView(DeleteView):\n    model = InformationFund\n    template_name = 'resistance/informationfund_confirm_delete.html'\n    success_url = reverse_lazy('informationfund-list')\n\n\n@login_required_m\nclass FundListView(ListView):\n    model = Fund\n    template_name = 'resistance/fund_list.html'\n    context_object_name = 'funds'\n\n\n@login_required_m\nclass FundDetailView(DetailView):\n    model = Fund\n    template_name = 'resistance/fund_detail.html'\n    context_object_name = 'fund'\n\n\n@login_required_m\nclass FundCreateView(CreateView):\n    model = Fund\n    form_class = FundForm\n    template_name = 'resistance/fund_form.html'\n\n    def get_initial(self):\n        initial = super().get_initial()\n        initial['fund'] = self.kwargs.get('infofund_pk')\n        return initial\n\n    def get_success_url(self):\n        return reverse_lazy('informationfund-detail', kwargs={'pk': self.object.fund.pk})\n\n\n@login_required_m\nclass FundUpdateView(UpdateView):\n    model = Fund\n    form_class = FundForm\n    template_name = 'resistance/fund_form.html'\n\n    def get_success_url(self):\n        return reverse_lazy('informationfund-detail', kwargs={'pk': self.object.fund.pk})\n\n\n@login_required_m\nclass FundDeleteView(DeleteView):\n    model = Fund\n    template_name = 'resistance/fund_confirm_delete.html'\n\n    def get_success_url(self):\n        infofund_pk = self.object.fund.pk\n        return reverse_lazy('informationfund-detail', kwargs={'pk': infofund_pk})\n\n\n@login_required_m\nclass DeprivationListView(ListView):\n    model = Deprivation\n    template_name = 'resistance/deprivation_list.html'\n    context_object_name = 'deprivations'\n\n\n@login_required_m\nclass DeprivationDetailView(DetailView):\n    model = Deprivation\n    template_name = 'resistance/deprivation_detail.html'\n    context_object_name = 'deprivation'\n\n\n@login_required_m\nclass DeprivationCreateView(CreateView):\n    model = Deprivation\n    form_class = DeprivationForm\n    template_name = 'resistance/deprivation_form.html'\n\n    def get_success_url(self):\n        return reverse_lazy('deprivation-detail', kwargs={'pk': self.object.pk})\n\n\n@login_required_m\nclass DeprivationUpdateView(UpdateView):\n    model = Deprivation\n    form_class = DeprivationForm\n    template_name = 'resistance/deprivation_form.html'\n\n    def get_success_url(self):\n        return reverse_lazy('deprivation-detail', kwargs={'pk': self.object.pk})\n\n\n@login_required_m\nclass DeprivationDeleteView(DeleteView):\n    model = Deprivation\n    template_name = 'resistance/deprivation_confirm_delete.html'\n    success_url = reverse_lazy('deprivation-list')\n\n\n@login_required_m\nclass ReportListView(ListView):\n    model = Report\n    template_name = 'resistance/report_list.html'\n    context_object_name = 'reports'\n\n\n@login_required_m\nclass ReportDetailView(DetailView):\n    model = Report\n    template_name = 'resistance/report_detail.html'\n    context_object_name = 'report'\n\n\n@login_required_m\nclass ReportCreateView(CreateView):\n    model = Report\n    form_class = ReportForm\n    template_name = 'resistance/report_form.html'\n\n    def get_initial(self):\n        initial = super().get_initial()\n        initial['deprivation'] = self.kwargs.get('deprivation_pk')\n        return initial\n\n    def get_success_url(self):\n        return reverse_lazy('deprivation-detail', kwargs={'pk': self.object.deprivation.pk})\n\n\n@login_required_m\nclass ReportUpdateView(UpdateView):\n    model = Report\n    form_class = ReportForm\n    template_name = 'resistance/report_form.html'\n\n    def get_success_url(self):\n        return reverse_lazy('deprivation-detail', kwargs={'pk': self.object.deprivation.pk})\n\n\n@login_required_m\nclass ReportDeleteView(DeleteView):\n    model = Report\n    template_name = 'resistance/report_confirm_delete.html'\n\n    def get_success_url(self):\n        deprivation_pk = self.object.deprivation.pk\n        return reverse_lazy('deprivation-detail', kwargs={'pk': deprivation_pk})
===================================================================
diff --git a/economy-main/economy/resistance/views.py b/economy-main/economy/resistance/views.py
--- a/economy-main/economy/resistance/views.py	
+++ b/economy-main/economy/resistance/views.py	
@@ -236,4 +236,5 @@
 
     def get_success_url(self):
         deprivation_pk = self.object.deprivation.pk
-        return reverse_lazy('deprivation-detail', kwargs={'pk': deprivation_pk})
\ No newline at end of file
+        return reverse_lazy('deprivation-detail', kwargs={'pk': deprivation_pk})
+
