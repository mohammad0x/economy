{% extends "base.html" %}

{% block title %}جزئیات گزارش: {{ report.subject|truncatewords:5 }}{% endblock %}

{% block content %}
<style>
    /* استایل‌های اصلی detail-card در base.html هستند */
</style>

<div class="page-header">
    <h1><i class="fa-solid fa-file-text"></i> جزئیات گزارش</h1>
</div>

<div class="detail-card">
    <div class="detail-item">
        <strong>موضوع:</strong> <span>{{ report.subject }}</span>
    </div>
    <div class="detail-item">
        <strong>تاریخ گزارش:</strong> <span>{{ report.date|date:"Y/m/d H:i" }}</span>
    </div>
    <div class="detail-item">
        <strong>مربوط به محروم:</strong> 
        <a href="{% url 'deprivation-detail' report.deprivation.pk %}" style="color: var(--accent); text-decoration: none;">
            {{ report.deprivation.name }} <i class="fa-solid fa-up-right-from-square" style="font-size: 12px; margin-right: 5px;"></i>
        </a>
    </div>
    <div class="detail-item">
        <strong>عضو گزارش‌دهنده:</strong> <span>{{ report.member|default:"-" }}</span>
    </div>
    <div class="detail-item">
        <strong>آدرس/مکان:</strong> <span>{{ report.address|default:"-" }}</span>
    </div>
    
    <hr style="border-top: 1px solid var(--hover); margin: 20px 0;">

    <div class="detail-item">
        <strong>شرح کامل:</strong> 
        <p style="white-space: pre-wrap; margin-top: 10px; background: var(--bg); padding: 15px; border-radius: 8px;">{{ report.desc|default:"توضیحات تکمیلی ثبت نشده است." }}</p>
    </div>
    
    <div class="detail-actions">
        <a href="{% url 'report-update' report.pk %}" class="btn btn-secondary"><i class="fa-solid fa-pen"></i> ویرایش</a>
        <a href="{% url 'report-delete' report.pk %}" class="btn btn-danger"><i class="fa-solid fa-trash"></i> حذف</a>
        <a href="{% url 'report-list' %}" class="btn btn-secondary"><i class="fa-solid fa-list"></i> بازگشت به لیست</a>
    </div>
</div>

{% endblock %}